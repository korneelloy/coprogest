<h2 class="text-2xl font-bold text-gray-800 mb-4">Liste des convocations d'AG</h2>
<hr class="mb-6 border-gray-300">

<div *ngIf="createdMessage" class="bg-green-100 text-green-800 px-4 py-2 rounded-md mb-4">
  {{ createdMessage }}
</div>

<div *ngIf="deletedMessage" class="bg-green-100 text-green-800 px-4 py-2 rounded-md mb-4">
  {{ deletedMessage }}
</div>

<ul *ngIf="agnotices$ | async as agnotices; else loading" class="space-y-6">
  <li *ngFor="let agnotice of agnotices" class="bg-white p-4 rounded-lg shadow-sm border border-gray-200">
    <h3 class="text-lg font-semibold text-black mb-2">{{ agnotice.title }}</h3>
    <div class="text-sm text-gray-700 mb-1">Date : {{ agnotice.ag_date | date:'short' }}</div>
    <div class="text-sm text-gray-700 mb-4">Lieu : {{ agnotice.place }}</div>
    
    <button 
      (click)="seeDetails(agnotice.id)" 
      class="text-black hover:text-orange-300 bg-zinc-100 px-3 py-2 rounded-md text-sm font-medium text-center">
      Voir les détails
    </button>
  </li>
</ul>

<div class="mt-8 flex justify-center">
  <a routerLink="/agnotices/new"
    class="text-black hover:text-orange-300 bg-zinc-100 px-4 py-2 rounded-md text-sm font-medium text-center">
    Créer une nouvelle convocation
  </a>
</div>

<ng-template #loading>
  <p class="text-gray-500 text-center mt-6">Chargement des documents...</p>
</ng-template>
