<h2 class="text-2xl font-bold mb-2">Détails d'un lot</h2>
<hr class="mb-4 border-gray-300">

<div *ngIf="updatedMessage" class="bg-green-100 text-green-800 p-2 rounded mb-4">
  {{ updatedMessage }}
</div>

<div *ngIf="unit$ | async as unit; else loading" class="grid grid-cols-1 sm:grid-cols-2 gap-4 bg-white p-4 rounded shadow">
  <div class="sm:col-span-2">
    <strong class="text-xl">{{ unit.name }}</strong>
  </div>

  <div><span class="font-semibold">Description :</span> {{ unit.description }}</div>
  <div>
    <span class="font-semibold">Propriétaire :</span>
    {{ unit.owner_first_name && unit.owner_last_name ? unit.owner_first_name + ' ' + unit.owner_last_name : unit.owner_email }}
  </div>

  <div><span class="font-semibold">Tantièmes :</span> {{ unit.shares }}</div>

  <div class="sm:col-span-2">
    <span class="font-semibold">Groupes associés :</span>
    <ul class="list-disc list-inside ml-4 mt-1">
      <li *ngFor="let unitUnitGroup of unitUnitGroups">
        {{ unitUnitGroup.unit_group_name }}
      </li>
    </ul>
  </div>

  <div class="sm:col-span-2">
    <button
      (click)="change(unit.id)"
      class="whitespace-nowrap flex-1 text-black hover:text-orange-300 bg-zinc-100 px-3 py-2 rounded-md text-sm font-medium text-center"
    >
      Changer ce lot
    </button>
  </div>
</div>

<ng-template #loading>
  <p class="text-gray-500 italic">Chargement du lot...</p>
</ng-template>
